<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§®‡§µ ‡§µ‡§∞‡•ç‡§∑ 2026 ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å</title>

<style>  
  /* DJ Equalizer */
#dj{
  position:fixed;
  bottom:90px;
  right:20px;
  width:120px;
  height:60px;
  display:flex;
  align-items:flex-end;
  gap:6px;
  z-index:9;
  pointer-events:none;
}

#dj .bar{
  width:10px;
  height:10px;
  background:linear-gradient(180deg,#00ffcc,#ff00cc);
  border-radius:4px;
  animation:djBeat 1s infinite ease-in-out;
}

#dj .bar:nth-child(1){animation-delay:0s}
#dj .bar:nth-child(2){animation-delay:.1s}
#dj .bar:nth-child(3){animation-delay:.2s}
#dj .bar:nth-child(4){animation-delay:.3s}
#dj .bar:nth-child(5){animation-delay:.2s}
#dj .bar:nth-child(6){animation-delay:.1s}
#dj .bar:nth-child(7){animation-delay:0s}

@keyframes djBeat{
  0%,100%{height:12px}
  50%{height:55px}
}

  /* Voice Wave Animation */
#voiceWave{
  position:fixed;
  bottom:150px;
  left:50%;
  transform:translateX(-50%);
  display:none;
  gap:6px;
  z-index:8;
}

#voiceWave span{
  width:6px;
  height:20px;
  background:linear-gradient(180deg,#ffcc00,#ff0066);
  border-radius:4px;
  animation:wave 1s infinite ease-in-out;
}

#voiceWave span:nth-child(1){animation-delay:0s}
#voiceWave span:nth-child(2){animation-delay:.1s}
#voiceWave span:nth-child(3){animation-delay:.2s}
#voiceWave span:nth-child(4){animation-delay:.3s}
#voiceWave span:nth-child(5){animation-delay:.4s}

@keyframes wave{
  0%,100%{height:20px}
  50%{height:45px}
}

/* Gift Icon */
#gift{
  position:fixed;
  top:20px;
  right:20px;
  font-size:34px;
  cursor:pointer;
  z-index:10;
  animation:pulse 2s infinite;
}

@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.2)}
}

/* Gift Popup */
#giftBox{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:20;
}

.gift-content{
  background:linear-gradient(135deg,#ffcc00,#ff0066);
  padding:30px;
  border-radius:20px;
  color:black;
  text-align:center;
  font-size:1.4rem;
  box-shadow:0 0 40px gold;
  animation:pop 0.6s ease;
}

@keyframes pop{
  0%{transform:scale(0)}
  100%{transform:scale(1)}
}

    /* Human-like facial details */
.eyebrow{
  width:16px;
  height:4px;
  background:#5a3b1f;
  position:absolute;
  top:20px;
  border-radius:5px;
}
.eyebrow.left{left:18px}
.eyebrow.right{right:18px}

.nose{
  width:8px;
  height:14px;
  background:#e0a87c;
  position:absolute;
  top:42px;
  left:50%;
  transform:translateX(-50%);
  border-radius:4px;
}

.blush{
  width:14px;
  height:8px;
  background:rgba(255,120,120,0.5);
  position:absolute;
  top:48px;
  border-radius:50%;
}
.blush.left{left:10px}
.blush.right{right:10px}

/* Softer skin tone */
.cartoon .head{
  background:linear-gradient(180deg,#ffd6b0,#ffbf91);
}

    /* MULTIPLE CARTOONS */
.cartoon-wrap{
  position:fixed;
  bottom:20px;
  left:0;
  right:0;
  display:flex;
  justify-content:space-evenly;
  z-index:6;
  pointer-events:none;
}

.cartoon{
  width:110px;
  animation: idleFloat 3s ease-in-out infinite;
}

@keyframes idleFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

/* Head */
.cartoon .head{
  width:90px;
  height:90px;
  background:#ffcc99;
  border-radius:50%;
  margin:auto;
  position:relative;
}

.eye{
  width:10px;
  height:10px;
  background:#000;
  border-radius:50%;
  position:absolute;
  top:30px;
}
.eye.left{left:22px}
.eye.right{right:22px}

.mouth{
  width:26px;
  height:8px;
  background:#000;
  border-radius:0 0 20px 20px;
  position:absolute;
  bottom:22px;
  left:32px;
}

/* Kurta */
.kurta-body{
  width:80px;
  height:90px;
  background:linear-gradient(180deg,#ff9933,#ff6600);
  margin:6px auto 0;
  border-radius:10px;
  position:relative;
}

.kurta-body::after{
  content:"";
  position:absolute;
  top:0;
  left:50%;
  width:4px;
  height:100%;
  background:#fff;
  transform:translateX(-50%);
}

/* Name Tag */
.name-tag{
  position:absolute;
  bottom:8px;
  left:50%;
  transform:translateX(-50%);
  font-size:10px;
  color:#fff;
  font-weight:bold;
}

/* Firework reaction */
.jump{
  animation: jump 0.6s ease;
}

@keyframes jump{
  0%{transform:translateY(0)}
  50%{transform:translateY(-25px)}
  100%{transform:translateY(0)}
}

*{margin:0;padding:0;box-sizing:border-box}
body{
    height:100vh;
    overflow:hidden;
    font-family:"Noto Sans Devanagari",system-ui;
    background:black;
}

/* Background Video */
video{
    position:fixed;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    z-index:-3;
}

/* Dark overlay */
.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    z-index:-2;
}

/* Fireworks canvas */
canvas{
    position:fixed;
    inset:0;
    z-index:-1;
}

/* UI */
.container{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
    color:white;
}

h1{
    font-size:2.2rem;
    color:gold;
    text-shadow:0 0 20px gold;
}

#shayari{
    font-size:1.3rem;
    line-height:1.9;
    margin:20px 0;
}

/* Button */
button{
    padding:14px 32px;
    font-size:1.1rem;
    border:none;
    border-radius:40px;
    font-weight:bold;
    background:linear-gradient(45deg,#ffcc00,#ff0066);
    color:black;
}

/* Audio-reactive lights */
.light{
    position:absolute;
    width:220px;
    height:220px;
    border-radius:50%;
    filter:blur(110px);
    opacity:.9;
}
#l1{background:red;top:10%;left:10%}
#l2{background:blue;bottom:20%;right:15%}
#l3{background:green;top:30%;right:30%}
</style>
</head>

<body>

<!-- Background Video -->
<video src="video.mp4" autoplay muted loop playsinline></video>
<div class="overlay"></div>

<!-- Fireworks -->
<canvas id="fw"></canvas>

<!-- Lights -->
<div class="light" id="l1"></div>
<div class="light" id="l2"></div>
<div class="light" id="l3"></div>

<!-- UI -->
<div class="container">
    <h1>‚ú® ‡§®‡§µ ‡§µ‡§∞‡•ç‡§∑ 2026 ‚ú®</h1>
    <div id="shayari">‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§è‡§Å ‡§î‡§∞ ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å ‡§∏‡•Å‡§®‡•á‡§Ç</div>
    <button onclick="startShow()">üéÜ ‡§∂‡§æ‡§Ø‡§∞‡•Ä ‡§∏‡•Å‡§®‡•ã</button>
</div>

<!-- Audio -->
<audio id="bgMusic" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
</audio>

<audio id="cracker" preload="auto">
    <source src="cracker.wav" type="audio/wav">
</audio>

<script>  
  /* DJ SOUND SYNC (SAFE ADDITION) */
const djBars=document.querySelectorAll("#dj .bar");

function djAnimate(bass){
  djBars.forEach(bar=>{
    const h = 12 + (bass/255)*45;
    bar.style.height = h + "px";
  });
}

  /* VOICE WAVE SYNC */
const voiceWave=document.getElementById("voiceWave");

const originalSpeak = speechSynthesis.speak.bind(speechSynthesis);

speechSynthesis.speak = function(utterance){
  if(voiceWave) voiceWave.style.display="flex";

  utterance.onend = ()=>{
    if(voiceWave) voiceWave.style.display="none";
  };

  originalSpeak(utterance);
};

    /* CARTOON FIREWORK REACTION */
function cartoonCelebrate(){
  document.querySelectorAll(".cartoon").forEach(c=>{
    c.classList.remove("jump");
    void c.offsetWidth; // reset animation
    c.classList.add("jump");
  });
}

/* HOOK INTO EXISTING FIREWORK SPAWN (NO CHANGE) */
const originalSpawnFirework = window.spawnFirework;
window.spawnFirework = function(){
  if(originalSpawnFirework) originalSpawnFirework();
  cartoonCelebrate();
};

/* LIP SYNC WITH SPEECH (SAFE ADDITION) */
const originalSpeak = speechSynthesis.speak.bind(speechSynthesis);
speechSynthesis.speak = function(utterance){
  document.querySelectorAll(".mouth").forEach(m=>{
    m.style.height="18px";
  });
  utterance.onend=()=>{
    document.querySelectorAll(".mouth").forEach(m=>{
      m.style.height="8px";
    });
  };
  originalSpeak(utterance);
};

/* ---------------- SHAYARI ---------------- */
const shayariList = [
`‡§®‡§è ‡§∏‡§æ‡§≤ ‡§ï‡•Ä ‡§®‡§à ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ ‡§π‡•ã,
‡§π‡§∞ ‡§¶‡§ø‡§® ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§¨‡§∞‡§∏‡§æ‡§§ ‡§π‡•ã‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§¨‡•Ä‡§§‡•á ‡§ï‡§≤ ‡§ï‡•ã ‡§¶‡§ø‡§≤ ‡§∏‡•á ‡§≠‡•Å‡§≤‡§æ‡§ï‡§∞,
‡§®‡§è ‡§∏‡§™‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§Ü‡§ú ‡§Ö‡§™‡§®‡§æ‡§ï‡§∞‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§â‡§Æ‡•ç‡§Æ‡•Ä‡§¶ ‡§ú‡§ó‡§æ‡§è,
‡§π‡§∞ ‡§∂‡§æ‡§Æ ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§≤‡§æ‡§è‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§® ‡§π‡•ã ‡§ï‡•ã‡§à ‡§ó‡§º‡§Æ,
‡§π‡§∞ ‡§™‡§≤ ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§π‡•ã ‡§≠‡§∞‡§Æ‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§®‡§è ‡§∏‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§®‡§à ‡§™‡§π‡§ö‡§æ‡§® ‡§¨‡§®‡•á,
‡§π‡§∞ ‡§ñ‡•ç‡§µ‡§æ‡§¨ ‡§∏‡§ö ‡§π‡•ã‡§ï‡§∞ ‡§∏‡§ú‡•á‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§ú‡•ã ‡§ö‡§æ‡§π‡•ã ‡§µ‡•ã ‡§Æ‡•Å‡§ï‡§æ‡§Æ ‡§Æ‡§ø‡§≤‡•á,
‡§π‡§∞ ‡§ï‡§¶‡§Æ ‡§™‡§∞ ‡§∏‡§´‡§≤‡§§‡§æ ‡§ñ‡§ø‡§≤‡•á‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§Ç‡§∏‡•Ä ‡§∏‡•á ‡§∏‡§ú‡•Ä ‡§π‡•ã ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä,
‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§≠‡§∞‡•Ä ‡§π‡§∞ ‡§¨‡§Ç‡§¶‡§ó‡•Ä‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§∞ ‡§Æ‡•Å‡§∂‡•ç‡§ï‡§ø‡§≤ ‡§Ü‡§∏‡§æ‡§® ‡§π‡•ã ‡§ú‡§æ‡§è,
‡§π‡§∞ ‡§Ö‡§Ç‡§ß‡•á‡§∞‡§æ ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§™‡§æ‡§è‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§®‡§è ‡§∏‡§æ‡§≤ ‡§ï‡§æ ‡§Ø‡•á ‡§™‡•à‡§ó‡§º‡§æ‡§Æ ‡§π‡•à,
‡§ñ‡•Å‡§∂ ‡§∞‡§π‡§®‡§æ ‡§π‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§á‡§®‡§æ‡§Æ ‡§π‡•à‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§∞ ‡§¶‡§ø‡§® ‡§ï‡•Å‡§õ ‡§®‡§Ø‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§è,
‡§π‡§∞ ‡§™‡§≤ ‡§Ü‡§ó‡•á ‡§¨‡§¢‡§º‡§æ‡§è‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§¶‡§ø‡§≤ ‡§Æ‡•á‡§Ç ‡§∞‡§π‡•á ‡§∏‡§ö‡•ç‡§ö‡§æ ‡§µ‡§ø‡§∂‡•ç‡§µ‡§æ‡§∏,
‡§ú‡•Ä‡§µ‡§® ‡§¨‡§®‡•á ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§Ö‡§π‡§∏‡§æ‡§∏‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§® ‡§π‡•ã ‡§ï‡•ã‡§à ‡§Ö‡§ß‡•Ç‡§∞‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä,
‡§π‡§∞ ‡§∏‡•Å‡§¨‡§π ‡§π‡•ã ‡§®‡§à ‡§∞‡§µ‡§æ‡§®‡•Ä‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§∏‡§™‡§®‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ï‡•Ä‡§ï‡§§ ‡§¨‡§®‡§æ‡§ì,
‡§®‡§è ‡§∏‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§¶ ‡§ï‡•ã ‡§™‡§π‡§ö‡§æ‡§®‡•ã‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§∞ ‡§∞‡§ø‡§∂‡•ç‡§§‡•á ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§¨‡§¢‡§º‡•á,
‡§π‡§∞ ‡§¶‡§ø‡§≤ ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ï‡•Ç‡§® ‡§ö‡§¢‡§º‡•á‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§®‡§à ‡§∏‡•ã‡§ö, ‡§®‡§Ø‡§æ ‡§â‡§ú‡§æ‡§≤‡§æ,
2026 ‡§¨‡§®‡•á ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§µ‡§æ‡§≤‡§æ‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§π‡§∞ ‡§¶‡§ø‡§® ‡§π‡•ã ‡§∏‡§´‡§≤‡§§‡§æ ‡§ï‡§æ ‡§∏‡§µ‡•á‡§∞‡§æ,
‡§π‡§∞ ‡§∞‡§æ‡§§ ‡§π‡•ã ‡§ö‡•à‡§® ‡§ï‡§æ ‡§¨‡§∏‡•á‡§∞‡§æ‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§ú‡•ã ‡§ñ‡•ã‡§Ø‡§æ ‡§µ‡•ã ‡§∏‡§¨‡§ï ‡§¨‡§® ‡§ú‡§æ‡§è,
‡§ú‡•ã ‡§™‡§æ‡§Ø‡§æ ‡§µ‡•ã ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§≤‡§æ‡§è‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§®‡§è ‡§∏‡§æ‡§≤ ‡§ï‡•Ä ‡§Ø‡§π‡•Ä ‡§π‡•à ‡§¶‡•Å‡§Ü,
‡§π‡§∞ ‡§∏‡§™‡§®‡§æ ‡§π‡•ã ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§π‡•ã ‡§§‡§∞‡§ï‡•ç‡§ï‡•Ä ‡§Ö‡§™‡§æ‡§∞,
‡§π‡§∞ ‡§¶‡§ø‡§® ‡§Æ‡§ø‡§≤‡•á ‡§®‡§Ø‡§æ ‡§â‡§™‡§π‡§æ‡§∞‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`,

`‡§®‡§µ ‡§µ‡§∞‡•ç‡§∑ ‡§≤‡§æ‡§è ‡§ñ‡•Å‡§∂‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•å‡§ó‡§æ‡§§,
‡§π‡§∞ ‡§™‡§≤ ‡§π‡•ã ‡§ñ‡§æ‡§∏, ‡§π‡§∞ ‡§¨‡§æ‡§§ ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§‡•§
Amit ki ‡§ì‡§∞ ‡§∏‡•á ‡§π‡§æ‡§∞‡•ç‡§¶‡§ø‡§ï ‡§∂‡•Å‡§≠‡§ï‡§æ‡§Æ‡§®‡§æ‡§è‡§Å`
];


/* ---------------- AUDIO ---------------- */
let audioCtx, analyser, dataArray;

/* ---------------- START ---------------- */
function startShow(){
    const text=shayariList[Math.floor(Math.random()*shayariList.length)];
    document.getElementById("shayari").innerText=text;

    // Voice
    speechSynthesis.cancel();
    const speech=new SpeechSynthesisUtterance(text);
    speech.lang="hi-IN";
    speech.rate=.9;
    speech.volume=1;
    speechSynthesis.speak(speech);

    // Music
    const music=document.getElementById("bgMusic");
    music.volume=.35;
    music.play();

    // Web Audio API
    audioCtx=new (window.AudioContext||window.webkitAudioContext)();
    const source=audioCtx.createMediaElementSource(music);
    analyser=audioCtx.createAnalyser();
    analyser.fftSize=512;
    dataArray=new Uint8Array(analyser.frequencyBinCount);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);

    audioReactive();
}

/* ---------------- BASS-ONLY DETECTION ---------------- */
function audioReactive(){
    analyser.getByteFrequencyData(dataArray);

    const bassBins=dataArray.slice(0, dataArray.length*0.1);
    const bass=bassBins.reduce((a,b)=>a+b,0)/bassBins.length;

    // Lights react only to bass
    l1.style.transform=`scale(${1+bass/180})`;
    l2.style.transform=`scale(${1+bass/160})`;
    l3.style.transform=`scale(${1+bass/200})`;

    // Firecracker + fireworks on strong bass hit
    if(bass>160){
        const c=document.getElementById("cracker");
        c.currentTime=0;
        c.volume=1;
        c.play();
        spawnFirework();
    }

    requestAnimationFrame(audioReactive);
}

/* ---------------- FIREWORKS ---------------- */
const canvas=document.getElementById("fw");
const ctx=canvas.getContext("2d");
resize();window.onresize=resize;
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}

let particles=[];
function spawnFirework(){
    for(let i=0;i<45;i++){
        particles.push({
            x:Math.random()*canvas.width,
            y:canvas.height*0.45,
            vx:(Math.random()-.5)*7,
            vy:(Math.random()-.8)*7,
            life:70,
            col:`hsl(${Math.random()*360},100%,60%)`
        });
    }
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p=>{
        ctx.fillStyle=p.col;
        ctx.fillRect(p.x,p.y,3,3);
        p.x+=p.vx;
        p.y+=p.vy;
        p.vy+=.09;
        p.life--;
    });
    particles=particles.filter(p=>p.life>0);
    requestAnimationFrame(animate);
}
animate(); 
    /* SECRET GIFT LOGIC */
const gift=document.getElementById("gift");
const giftBox=document.getElementById("giftBox");

let pressTimer;

gift.addEventListener("mousedown",()=>{
  pressTimer=setTimeout(openGift,800);
});

gift.addEventListener("mouseup",()=>clearTimeout(pressTimer));
gift.addEventListener("mouseleave",()=>clearTimeout(pressTimer));

gift.addEventListener("touchstart",()=>{
  pressTimer=setTimeout(openGift,800);
});

gift.addEventListener("touchend",()=>clearTimeout(pressTimer));

function openGift(){
  giftBox.style.display="flex";

  // Firecracker + fireworks + cartoon jump
  spawnFirework();
  cartoonCelebrate();

  // Optional voice message
  const msg=new SpeechSynthesisUtterance(
    "Amit Rana ‡§ï‡•Ä ‡§ì‡§∞ ‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§®‡§è ‡§∏‡§æ‡§≤ ‡§ï‡§æ ‡§∏‡§∞‡§™‡•ç‡§∞‡§æ‡§á‡§ú‡§º ‡§ó‡§ø‡§´‡•ç‡§ü‡•§"
  );
  msg.lang="hi-IN";
  speechSynthesis.speak(msg);
}

giftBox.addEventListener("click",()=>{
  giftBox.style.display="none";
});

</script>
<!-- MULTIPLE CARTOON CHARACTERS -->
<div class="cartoon-wrap">

  <div class="cartoon kurta" id="cartoon1">
    <div class="head">
      <div class="eye left"></div>
      <div class="eye right"></div>
        <div class="eyebrow left"></div>
<div class="eyebrow right"></div>
<div class="nose"></div>
<div class="blush left"></div>
<div class="blush right"></div>

      <div class="mouth"></div>
    </div>
    <div class="kurta-body">
      <span class="name-tag">Amit Rana</span>
    </div>
  </div>

  <div class="cartoon kurta" id="cartoon2">
    <div class="head">
      <div class="eye left"></div>
      <div class="eye right"></div>
        <div class="eyebrow left"></div>
<div class="eyebrow right"></div>
<div class="nose"></div>
<div class="blush left"></div>
<div class="blush right"></div>

      <div class="mouth"></div>
    </div>
    <div class="kurta-body">
      <span class="name-tag">Amit Rana</span>
    </div>
  </div>

  <div class="cartoon kurta" id="cartoon3">
    <div class="head">
      <div class="eye left"></div>
      <div class="eye right"></div>
        <div class="eyebrow left"></div>
<div class="eyebrow right"></div>
<div class="nose"></div>
<div class="blush left"></div>
<div class="blush right"></div>

        <div class="eyebrow left"></div>
<div class="eyebrow right"></div>
<div class="nose"></div>
<div class="blush left"></div>
<div class="blush right"></div>

      <div class="mouth"></div>
    </div>
    <div class="kurta-body">
      <span class="name-tag">Amit Rana</span>
    </div>
  </div>

</div>
<!-- SECRET GIFT -->
<div id="gift">üéÅ</div>

<div id="giftBox">
  <div class="gift-content">
    üéâ Amit Rana ‡§ï‡•Ä ‡§ì‡§∞ ‡§∏‡•á  
    <br>‡§Ü‡§™‡§ï‡•ã ‡§®‡§è ‡§∏‡§æ‡§≤ ‡§ï‡§æ  
    <br><b>SECRET GIFT</b> üéâ
  </div>
</div>
<!-- VOICE WAVE -->
<div id="voiceWave">
  <span></span><span></span><span></span><span></span><span></span>
</div>
<!-- DJ SOUND ANIMATION -->
<div id="dj">
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
  <div class="bar"></div>
</div>

</body>
</html>
